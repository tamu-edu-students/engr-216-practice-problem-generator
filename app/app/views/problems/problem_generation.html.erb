<!-- app/views/sessions/problem_generation.html.erb -->

<h1>Practice Problems</h1>

<h3>Selected Topics</h3>
<% if @selected_topics.any? %>
  <ul>
    <% @selected_topics.each do |topic| %>
      <li><%= topic.topic_name %></li>
    <% end %>
  </ul>
<% else %>
  <p>No topics selected.</p>
<% end %>

<h3>Selected Question Types</h3>
<% if @selected_types.any? %>
  <ul>
    <% @selected_types.each do |type| %>
      <li><%= type.type_name %></li>
    <% end %>
  </ul>
<% else %>
  <p>No question types selected.</p>
<% end %>

<h1>Practice Problem</h1>

<% if @question %>
  <% if @question.img.present? %>
    <div class="problem-image">
      <img src="<%= @question.img %>" alt="Problem Image" style="max-width: 100%; height: auto;">
    </div>
  <% end %>

  <p><strong>Problem:</strong> <%= @question_text.html_safe %></p>

  <h3>Your Answer:</h3>
  <%= form_with url: submit_answer_path, method: :post, local: true do |form| %>
    <div>
      <%= form.label :answer, "Enter your answer:" %>
      <%= form.text_field :answer, placeholder: "Enter your answer here", id: "answer_input" %>
    </div>
    <%= form.submit "Submit", id: "submit_answer_button" %>
  <% end %>

<% else %>
  <p>No questions available for the selected criteria.</p>
<% end %>
